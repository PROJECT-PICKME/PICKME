<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PICKME</title>

    <!-- css -->
    <link rel="stylesheet" th:href="@{/css/common/header.css}">
    <link rel="stylesheet" th:href="@{/css/common/footer.css}">
    <link rel="stylesheet" th:href="@{/css/item/bidList.css}">

    <!-- font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR:wght@100;200;300;400;500;600;700&display=swap"
          rel="stylesheet">

    <!-- icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- js -->
    <script th:src="@{/js/item/bidList.js}"></script>
    <script th:src="@{/js/item/request.js}"></script>
</head>
<body>
<!-- 헤더 -->
<div th:replace="~{fragments/header :: header}">header content</div>

<!-- 메인 -->
<main>
    <div class="auction-list">
        <div class="header-section">
            <h2 id="title">내 입찰 목록</h2>
            <div class="toggle-switch">
                <input type="checkbox" id="toggle" onchange="filterItems()">
                <label for="toggle"></label>
            </div>
        </div>
        <div class="product-grid">
            <div class="product-card" th:each="item : ${bidList}" th:data-status="${item.status}"
                 th:data-item-id="${item.id}">
                <span class="status-label"
                      th:classappend="${item.status == 'OPEN' ? 'status-open' : (item.status == 'NOT_OPEN' ? 'status-not-open' : 'status-closed')}"
                      th:text="${item.status == 'OPEN' ? '진행중' : (item.status == 'NOT_OPEN' ? '진행 예정' : '마감')}">진행중</span>
                <img th:src="@{${item.imgUrl}}" alt="product image" class="product-image">
                <div class="product-info">
                    <h3 class="item-name" th:data-item-id="${item.id}" th:text="${item.name}"></h3>
                    <p class="item-info">공매예정가격: <span id="auction-price"
                                                       th:text="${#numbers.formatDecimal(item.price, 0, 'COMMA', 0, 'POINT')}"></span>
                        원</p>
                    <p class="item-info">공매시작일시: <span id="auction-date"
                                                       th:text="' '+ ${#temporals.format(item.startTime, 'yyyy-MM-dd HH:mm')}"></span>
                    </p>
                    <p class="item-info">공매마감일시: <span id="auction-end_date"
                                                       th:text="'  '+ ${#temporals.format(item.endTime, 'yyyy-MM-dd HH:mm')}"></span>
                    </p>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- 푸터 -->
<div th:replace="~{fragments/footer :: footer}">footer content</div>
</body>
</html>
